<app-nav-bar></app-nav-bar>
<ion-content class="ion-padding" color="primary">
    <ion-grid>
      <ion-row color="primary" class="ion-align-items-center">
        <ion-col  class="ion-align-self-center" size-md="6" size-lg="5" size-xs="12">
          <ion-card *ngIf="(qrCode$ | async) as coupon; else couponNotFound">
            <ion-card-header class ="ion-text-center">
               <ion-title color="primary" class=".ion-text">{{ coupon.brand}}</ion-title>
            </ion-card-header>
            <ion-card-content>
              <div class="ion-text-start">
                <p>Date limite: {{ coupon.validUntil|date}}.</p>
              </div>
              <div class="ion-text-start" >
                <p>Description: {{ coupon.description}}</p>
              </div>
            </ion-card-content>
            <ion-row class ="ion-text-center">
              <ion-col>
                <img src="{{ coupon.coupon}}"/>
              </ion-col>
            </ion-row>
            <ion-row class="ion-align-items-center"><ion-col size="12" class="ion-text-center">
              <ion-router-link color="light" href="home"><ion-button>Retour</ion-button></ion-router-link>
            </ion-col></ion-row>


          </ion-card>
          <ng-template #couponNotFound>
            <ion-card>
              <ion-card-header style="text-align: center">
                <ion-card-title> Rien à afficher :( </ion-card-title>
              </ion-card-header>
              <ion-card-content style="text-align: center;">
                <p></p>
                <p>Veuillez réessayer dans quelques minutes ou essayer d'en scanner un autre</p>
                <p></p>
                <ion-router-link color="light" href="home"><ion-button>Retour</ion-button></ion-router-link>
              </ion-card-content>
            </ion-card>
          </ng-template>
        </ion-col>
      </ion-row>
    </ion-grid>
</ion-content>
